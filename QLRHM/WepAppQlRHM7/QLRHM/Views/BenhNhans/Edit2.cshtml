@model QLRHM.Models.BenhNhan

@{
    ViewData["Title"] = "Details";
    Layout = null;
} @using (Html.BeginForm("Edit2", "BenhNhans", FormMethod.Post, new { id = "abc", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
   
    <div class="container-fluid" style="border: 2px solid #b8ceff;padding-bottom:10px;color:black">
        <center><b style="font-weight:900;font-size:18px ; color:red">Sửa bệnh nhân</b></center>
        <div class="row">
            <div class="row" style="justify-content:center">

                <div class="col-md-3" style="width:11%">
                    <div class="form-group">
                        <label asp-for="FrontImage">
                            <img id="FrontImagePrv1" src="~/image/BN/@Model.AnhBn" alt="Image" width="120"
                                 height="120" style="border:1px; border-radius:50%; object-fit:cover">
                        </label>
                    </div>
                </div>

            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Mã bệnh nhân</label>
                    <div class='input-group'>
                        <input style="background-color:white;color:blue" asp-for="MaBenhNhan" type="text" class="form-control" readonly />
                    </div>   <div class='input-group' style="display:none">
                        <input style="background-color:white;color:blue" asp-for="Idbn" type="text" class="form-control" readonly />
                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>


            <div class="col-md-3">
                <div class="form-group">
                    <label class="control-label">Tên bệnh nhân <span style="color:red">(*)</span></label>
                    <div class='input-group'>
                        <input asp-for="TenBn" type="text" maxlength="50" class="form-control" required oninvalid="this.setCustomValidity('Không được bỏ trống');" oninput="setCustomValidity('')" />
                    </div>
                    <span id="TenNCVError" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Ngày sinh <span style="color:red">(*)</span></label>
                    <div class='input-group date' id='inputmask1'>
                        <input asp-for="NgaySinh" type="text" class="form-control inputmask1"
                               placeholder="dd/mm/yyyy" required oninvalid="this.setCustomValidity('Không được bỏ trống');" oninput="setCustomValidity('')" />

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>

            <div class="col-md-1">
                <div class="form-group">
                    <label class="control-label">Giới Tinh <span style="color:red">(*)</span></label>
                    <div class='input-group'>
                        <select class="form-select" asp-for="GioiTinh">
                            <option value="Nam">Nam</option>
                            <option value="Nữ">Nữ</option>
                            <option value="Không xác định">Không xác định</option>
                        </select>

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">CCCD <span style="color:red">(*)</span></label>
                    <div class='input-group'>
                        <input asp-for="Cccd" type="number" oninput="validateCccd(this)" class="form-control" required />

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Quê quán</label>
                    <div class='input-group'>
                        <input  type="text"  value="không" maxlength="50" readonly class="form-control" />

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>

            <div class="col-md-3">
                <div class="form-group">
                    <label class="control-label">Địa chỉ</label>
                    <div class='input-group'>
                        <input asp-for="DiaChi" type="text" maxlength="50" required oninvalid="this.setCustomValidity('Không được bỏ trống');" oninput="setCustomValidity('')" class="form-control" />

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>

            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Sđt <span style="color:red">(*)</span></label>
                    <div class='input-group'>
                        <input asp-for="Sdt" type="number" oninput="validatePhoneNumber(this)" class="form-control" required />

                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>


            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Email</label>
                    <div class='input-group'>
                        <input asp-for="Email" type="email" maxlength="50" class="form-control" />

                    </div>
                    <span id="TenNCVError" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label class="control-label">Zalo</label>
                    <div class='input-group'>
                        <input asp-for="Zalo" type="text" maxlength="50" class="form-control" />
                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Facebook</label>
                    <div class='input-group'>
                        <input asp-for="FaceBook" type="text" maxlength="50" class="form-control" />
                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label class="control-label">Hình ảnh</label>
                    <div class='input-group'>
                        <input title="Upload a employee image" asp-for="FrontImage" maxlength="50" class="form-control" placeholder="Chọn ảnh" maxlength="50"
                               onchange="document.getElementById('FrontImagePrv1').src= window.URL.createObjectURL(this.files[0])">
                    </div>
                    <span asp-validation-for="FrontImage" class="text-danger"></span>
                </div>
            </div>

            <div class="col-md-5">
                <div class="form-group">
                    <label class="control-label">Ghi chú</label>
                    <div class='input-group'>
                        <textarea asp-for="GhiChu" maxlength="100" type="text" class="form-control" ></textarea>
                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>



            <div class="col-md-2">
                <div class="form-group">
                    <label class="control-label">Ngày thêm</label>
                    <div class='input-group'>
                        <input asp-for="NgayTao" type="text" class="form-control" readonly />
                    </div>
                    <span class="text-danger"></span>
                </div>
            </div>
            


            <div class='input-group' style="display:none">
                @* <input asp-for="NgaySua" class="form-control" readonly /> *@
                <input asp-for="Active" type="text" value="1" readonly />
                <input asp-for="Phong" type="text"readonly />
            </div>
          
            <div class="col-md-1">
                <div class="form-group">
                    <label class="control-label"> </label>
                    <input style="color:black" type="submit" value="Lưu" class="btn btn-primary form-control" />
                </div>
            </div>   <div class="col-md-1">
                <div class="form-group">
                    <label class="control-label"> </label>
                    <input style="color:black" type="button" value="Huỷ" class="btn btn-primary form-control" onclick="resetAndSubmit()" />

                </div>
            </div> 
           

        </div>
    </div>

}
<script>
    function resetAndSubmit() {
        // Xóa dữ liệu trong trường nhập liệu (reset)
        document.getElementById("abc").reset();

        // Gửi dữ liệu lên máy chủ (submit)
        // document.getElementById("abc").submit();
        location.reload();
    }
    $(document).ready(function () {
        $(".inputmask").inputmask({
            alias: "datetime",
            inputFormat: "dd/mm/yyyy HH:MM"
        });
    }); $(document).ready(function () {
        $(".inputmask1").inputmask({
            alias: "datetime",
            inputFormat: "dd/mm/yyyy",
        });
    });
</script>
<script src="~/js/benhnhan.js" asp-append-version="true"></script>